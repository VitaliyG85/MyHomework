from marvel import full_dict
from typing import List, Optional, Dict, Union
from pprint import pprint

user_list: List[str] = input('–í–≤–µ–¥–∏—Ç–µ –ø–æ—Ä—è–¥–∫–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞ —Ñ–∏–ª—å–º–æ–≤ –ú–∞—Ä–≤–µ–ª: ').split()
nums_list: List[Optional[int]] = list(
    map(lambda str_num: int(str_num) if str_num.isdigit() else None, user_list))

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ filter –∏ –ø–æ–ª—É—á–∏—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å–ª–æ–≤–∞—Ä—å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–µ id –∏
# –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏, –Ω–æ —Ç–æ–ª—å–∫–æ —Ç–µ—Ö —Ñ–∏–ª—å–º–æ–≤, id –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –≤ –ø–æ–ª—É—á–µ–Ω–Ω–æ–º —Å–ø–∏—Å–∫–µ –≤ –ø.2

filtered_full_dict_by_ID: Dict[int, Dict] = dict(filter(lambda movie: movie[0] in nums_list, full_dict.items()))

# –°–æ—Å—Ç–∞–≤—å—Ç–µ set comprehension (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–Ω–æ–∂–µ—Å—Ç–≤–∞) —Å–æ–±—Ä–∞–≤ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–ª—é—á–∞ director
# —Å–ª–æ–≤–∞—Ä—è –¥–∞—Ç–∞-—Å–µ—Ç–∞

directors_set: set = {value['director'] for value in filtered_full_dict_by_ID.values() if value['director'] != 'TBA'}

# –°–æ—Å—Ç–∞–≤—å—Ç–µ dict comprehension (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª–æ–≤–∞—Ä—è) —Å–¥–µ–ª–∞–≤ –∫–æ–ø–∏—é –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è full_dict , –ø—Ä–∏ —ç—Ç–æ–º
# –ø—Ä–∏–º–µ–Ω–∏–º –∫ –∫–∞–∂–¥–æ–º—É 'year' –∑–Ω–∞—á–µ–Ω–∏—é, —Ñ—É–Ω–∫—Ü–∏—é str

full_dict_year_str: Dict[int, Dict[str, str]] = {key:
                                                     {'title': value['title'],
                                                      'year': str(value['year']),
                                                      'director': value['director'],
                                                      'screenwriter': value['screenwriter'],
                                                      'producer': value['producer'],
                                                      'stage': value['stage']}
                                                 for key, value in full_dict.items()}

# –°–¥–µ–ª–∞–π—Ç–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —Å–ª–æ–≤–∞—Ä—è full_dict –ø–æ –æ–¥–Ω–æ–º—É (–ª—é–±–æ–º—É) –ø–∞—Ä–∞–º–µ—Ç—Ä—É, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º lambda –Ω–∞ –≤—ã—Ö–æ–¥–µ
# –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å–ª–æ–≤–∞—Ä—å. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–ø–∏—à–∏—Ç–µ, –ø–æ –∫–∞–∫–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä—É –≤—ã –¥–µ–ª–∞–µ—Ç–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É!

filtered_full_dict_by_Ch: Dict[int, Dict] = dict(
    filter(lambda movie: movie[1]['title'].startswith('–ß'), full_dict.items()))

# –°–¥–µ–ª–∞–π—Ç–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —Å–ª–æ–≤–∞—Ä—è full_dict –ø–æ –æ–¥–Ω–æ–º—É (–ª—é–±–æ–º—É) –ø–∞—Ä–∞–º–µ—Ç—Ä—É, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º lambda –Ω–∞ –≤—ã—Ö–æ–¥–µ
# –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å–ª–æ–≤–∞—Ä—å. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–ø–∏—à–∏—Ç–µ, –ø–æ –∫–∞–∫–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä—É –≤—ã –¥–µ–ª–∞–µ—Ç–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É!

# –¥–µ–ª–∞–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —Ñ–∏–ª—å–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–¥—é—Å—Å–∏—Ä–æ–≤–∞–ª –ö–µ–≤–∏–Ω –§–∞–π–≥–∏ (–≤—Å—ë-—Ç–∞–∫–∏ –≥–ª–∞–≤–∞ Marvel Studios :)
filtered_full_dict_by_Kevin: Dict[int, Dict] = dict(filter(lambda movie: '–ö–µ–≤–∏–Ω –§–∞–π–≥–∏' in movie[1]['producer'],
                                                           full_dict.items()))

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Å–¥–µ–ª–∞–π—Ç–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —Å–ª–æ–≤–∞—Ä—è full_dict –ø–æ –¥–≤—É–º (–ª—é–±–æ–º) –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º lambda
# –Ω–∞ –≤—ã—Ö–æ–¥–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å–ª–æ–≤–∞—Ä—å. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–ø–∏—à–∏—Ç–µ, –ø–æ –∫–∞–∫–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä—É –≤—ã –¥–µ–ª–∞–µ—Ç–µ
# —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É!

# –¥–µ–ª–∞–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É —Ñ–∏–ª—å–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–¥—é—Å—Å–∏—Ä–æ–≤–∞–ª –ö–µ–≤–∏–Ω –§–∞–π–≥–∏, –∞ —Å–Ω–∏–º–∞–ª –î–∂–æ–Ω –§–∞–≤—Ä–æ (—Ç–∞–∫ –∫–∞–∫ –ñ–ß-1 - the Best))

filtered_full_dict_by_Kevin_and_John: Dict[int, Dict] = dict(filter(lambda movie: '–ö–µ–≤–∏–Ω –§–∞–π–≥–∏' in movie[1]['producer']
                                                                                  and '–î–∂–æ–Ω –§–∞–≤—Ä–æ' in movie[1][
                                                                                      'director'],
                                                                    full_dict.items()))

# –°–¥–µ–ª–∞–π—Ç–µ –∫—Ä–∞—Å–∏–≤—ã–π –ø—Ä–∏–Ω—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ pprint —Å –ø–æ–¥–ø–∏—Å—å—é, –∫–∞–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∏ –≥–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ üí™ (–ø–æ–º–Ω–∏—Ç–µ, —á—Ç–æ
# —É –Ω–µ–≥–æ –Ω–∞–¥–æ –≤—ã–∫–ª—é—á–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É, –∏–Ω–∞—á–µ –æ–Ω —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å–ª–æ–≤–∞—Ä—å –µ—â–µ —Ä–∞–∑)

print(' ')
print('–°–ª–æ–≤–∞—Ä—å —Ñ–∏–ª—å–º–æ–≤, –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:\n')
pprint(filtered_full_dict_by_ID, sort_dicts=False)
print(' ')
print('–°–µ—Ç —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤ —Ñ–∏–ª—å–º–æ–≤, –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:\n')
pprint(directors_set, sort_dicts=False)
print(' ')
print('–°–ª–æ–≤–∞—Ä—å —Ñ–∏–ª—å–º–æ–≤, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–∞—Ä–∞–º–µ—Ç—Ä "year" –ø—Ä–∏–≤–µ–¥—ë–Ω –∫ str:\n')
pprint(full_dict_year_str, sort_dicts=False)
print(' ')
print('–°–ª–æ–≤–∞—Ä—å —Ñ–∏–ª—å–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –Ω–∞ –±—É–∫–≤—É "–ß":\n')
pprint(filtered_full_dict_by_Ch, sort_dicts=False)
print(' ')
print('–°–ª–æ–≤–∞—Ä—å —Ñ–∏–ª—å–º–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∏–º –∏–∑ –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤ –±—ã–ª –ö–µ–≤–∏–Ω –§–∞–π–≥–∏:\n')
pprint(filtered_full_dict_by_Kevin, sort_dicts=False)
print(' ')
print('–°–ª–æ–≤–∞—Ä—å —Ñ–∏–ª—å–º–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∏–º –∏–∑ –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤ –±—ã–ª –ö–µ–≤–∏–Ω –§–∞–π–≥–∏, –∞ —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–º - –î–∂–æ–Ω –§–∞–≤—Ä–æ:\n')
pprint(filtered_full_dict_by_Kevin_and_John, sort_dicts=False)
